<!DOCTYPE html>
<html>
<head>
    <title>Part 2</title>
    <script>
        var colors = ["red", "orange", "yellow", "green", "blue", "indigo", "violet"];
        var random = Math.floor(Math.random()*7);
        var guess_number = 0;

        function do_game() {
            var finished = false;
            alert("The color is " + colors[random]);
            while(!finished) {
                var user_guess = prompt("I think about one of the colors from the list:\n\n" +
                        "blue, green, indigo, orange, red, violet, yellow.\n\n" +
                        "Try to guess my color.");
                guess_number++;
                finished = check_guess(user_guess);
            }
        }

        function check_guess(user_guess) {
            if (!contains(colors, user_guess)) {
                alert("I don't recognize that color!");
                return false;
            }

            if (user_guess > colors[random]) {
                alert("Your color is alphabetically higher than mine.");
                return false;
            }

            if (user_guess < colors[random]) {
                alert("Your color is alphabetically lower than mine.");
                return false;
            }

            if (user_guess === colors[random]) {
                document.body.style.backgroundColor = colors[random];
                if (guess_number > 1) {
                    alert("You guessed right!\nYou took " + guess_number + " guesses!");
                }
                else {
                    alert("You guessed right!\nYou took only 1 guess!");
                }
                return true;
            }
        }

        function contains(colors, color) {
            return colors.indexOf(color.toLowerCase()) > -1;
        }
    </script>
</head>
<body onload="do_game();"></body>
</html>